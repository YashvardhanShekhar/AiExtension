<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Gemini Chat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg:#ffffff;
      --panel:#f7f7fb;
      --accent:#4f46e5;
      --accent-2:#06b6d4;
      --text:#0f172a;
      --muted:#64748b;
      --user:#eef2ff;
      --bot:#f8fafc;
      --border:#e5e7eb;
      --error:#ef4444;
    }
    *{box-sizing:border-box}
    html,body{
      margin:0; padding:0;
      width:360px; height:560px;
      background:linear-gradient(180deg, #ffffff 0%, #f7f7fb 100%);
      color:var(--text);
      font:14px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
    }
    .shell{
      display:flex; flex-direction:column; height:100%;
      border:1px solid var(--border);
      border-radius:12px; overflow:hidden;
      box-shadow:0 10px 30px rgba(15,23,42,.08);
      background:var(--bg);
    }
    .header{
      display:flex; align-items:center; gap:10px;
      padding:10px 12px;
      background:linear-gradient(90deg, rgba(79,70,229,.08), rgba(6,182,212,.08));
      border-bottom:1px solid var(--border);
    }
    .logo{
      width:26px;height:26px;border-radius:6px;
      background: radial-gradient(120% 120% at 100% 0%, var(--accent) 0%, var(--accent-2) 100%);
      box-shadow:0 0 20px rgba(6,182,212,.25);
    }
    .title{ font-weight:700; letter-spacing:.2px; }
    .badge{
      margin-left:auto; font-size:11px; padding:4px 8px;
      border:1px solid var(--border); border-radius:999px; color:var(--muted); background:#fff;
    }
    .chat{
      flex:1; overflow:auto; padding:12px; display:flex; flex-direction:column; gap:10px;
      background:linear-gradient(180deg, #ffffff 0%, #f9fafb 100%);
      scroll-behavior:smooth;
    }
    .msg{ display:flex; gap:8px; }
    .msg.user{ justify-content:flex-end; }
    .bubble{
      max-width:78%;
      padding:10px 12px; border-radius:12px; border:1px solid var(--border);
      background:#fff; word-wrap: break-word; white-space:pre-wrap;
      box-shadow: 0 6px 18px rgba(15,23,42,.05);
    }
    .user .bubble{ background:var(--user); }
    .bot .bubble{ background:var(--bot); }
    .footer{
      border-top:1px solid var(--border);
      padding:10px 12px; background:#fff;
      display:flex; gap:8px; align-items:flex-end;
    }
    .input{ flex:1; position:relative; }
    .input textarea{
      width:100%; min-height:42px; max-height:120px; resize:vertical;
      background:#fff; color:var(--text);
      border:1px solid var(--border); border-radius:10px; padding:10px 36px 10px 12px; outline:none;
    }
    .send{
      background:linear-gradient(90deg, var(--accent), var(--accent-2));
      color:#fff; border:0; border-radius:10px; padding:10px 14px;
      font-weight:700; cursor:pointer; min-width:72px;
      box-shadow:0 8px 18px rgba(79,70,229,.25);
    }
    .loader{
      width:18px;height:18px;border-radius:50%;
      border:2px solid rgba(15,23,42,.15);
      border-top-color:var(--accent); animation:spin 1s linear infinite; position:absolute; right:10px; top:10px;
      display:none;
    }
    @keyframes spin{ to{ transform:rotate(360deg) } }
    .hint{
      text-align:center; color:var(--muted); font-size:12px; padding:10px 12px;
      border-top:1px dashed var(--border); background:#fcfcff;
    }
  </style>
</head>
<body>
  <div class="shell">
    <div class="header">
      <div class="logo"></div>
      <div class="title">Gemini Chat</div>
      <div class="badge">2.5 Flash</div>
    </div>

    <div id="chat" class="chat"></div>

    <div class="footer">
      <div class="input">
        <textarea id="prompt" placeholder="Type a message… (Shift+Enter for new line)"></textarea>
        <div id="spinner" class="loader"></div>
      </div>
      <button id="send" class="send">Send</button>
    </div>

    <div class="hint">Enter to send · Shift+Enter for new line</div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
